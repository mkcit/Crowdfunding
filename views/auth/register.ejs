<!-- register.ejs -->
<%- include('../includes/head.ejs') %>
    <%- include('../includes/navigation.ejs') %>

        <main class="auth container" aria-labelledby="register-title">
            <h1 id="register-title">إنشاء الحساب</h1>

            <form class="form" method="POST" action="/register" novalidate>
                <input type="hidden" name="_csrf" value="CSRF_TOKEN_HERE">

                <div class="form__group">
                    <label class="form__label" for="username">اسم المستخدم</label>
                    <div class="form__control">
                        <input class="form__input" id="username" name="username" type="text" required minlength="3"
                            autocomplete="username" placeholder="اسم قصير بدون مسافات">
                    </div>
                    <div class="form__help">٣ أحرف فأكثر</div>
                </div>

                <div class="form__group">
                    <label class="form__label" for="email">البريد الإلكتروني</label>
                    <div class="form__control">
                        <input class="form__input" id="email" name="email" type="email" required autocomplete="email"
                            placeholder="name@example.com">
                    </div>
                </div>

                <div class="form__group">
                    <label class="form__label" for="password">كلمة المرور</label>
                    <div class="form__control">
                        <input class="form__input" id="password" name="password" type="password" required minlength="6"
                            autocomplete="new-password" placeholder="••••••">
                        <button class="btn btn--reveal" type="button" onclick="toggle('password', this)">إظهار</button>
                    </div>
                    <div class="form__help">الحد الأدنى ٦ أحرف</div>
                </div>

                <div class="form__group">
                    <label class="form__label" for="confirm">تأكيد كلمة المرور</label>
                    <div class="form__control" id="confirm-wrap">
                        <input class="form__input" id="confirm" name="confirm_password" type="password" required
                            minlength="6" autocomplete="new-password" placeholder="أعد كتابة كلمة المرور">
                        <button class="btn btn--reveal" type="button" onclick="toggle('confirm', this)">إظهار</button>
                    </div>
                    <div id="match-msg" class="form__help">أعد الكتابة للتأكيد</div>
                </div>

                <div class="form__row">
                    <label class="form__check" for="agree">
                        <input class="form__check-input" id="agree" type="checkbox" name="agree" value="1" required>
                        <span class="form__check-label">أوافق على الشروط والأحكام</span>
                    </label>
                </div>

                <button class="btn btn--primary" type="submit">إنشاء الحساب</button>
            </form>

            <hr class="divider">

            <div class="links">
                هل لديك حساب بالفعل؟ <a href="/login">سجّل الدخول</a>
            </div>
        </main>
        <%- include('../includes/footer.ejs') %>